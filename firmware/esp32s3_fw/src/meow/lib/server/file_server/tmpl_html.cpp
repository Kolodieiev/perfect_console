#include <Arduino.h>

const char HEAD_HTML[] = R"rawliteral(<!DOCTYPE html><html lang="uk"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>)rawliteral";

const char MID_HTML[] = "</title></head><body>";
const char FOOT_HTML[] = "</body></html>";

const char RECEIVE_TITLE_STR[] = "Надіслати файл";
const char SEND_TITLE_STR[] = "Список файлів";

const char NOT_FOUND_TITLE_STR[] = "404";
const char NOT_FOUND_BODY_START[] = "<h1>Файл не знайдено</h1><a href=\"";
const char NOT_FOUND_BODY_END[] = "\">На головну</a>";

const char RECEIVE_FILE_HTML[] = R"rawliteral(
</title><style>body{font-family:Arial,sans-serif;display:flex;flex-direction:column;align-items:center;padding:20px;}h1{color:#333;}.form-container{display:flex;flex-direction:column;align-items:center;border:2px dashed #ccc;padding:20px;margin-top:20px;width:300px;text-align:center;}.form-container.dragover{background-color:#f0f0f0;border-color:#4caf50;}.form-container input[type="file"]{margin-bottom:20px;}.form-container button{background-color:#66bb6a;color:white;border:none;padding:12px 24px;font-size:16px;border-radius:5px;cursor:pointer;transition:background-color 0.3s;margin-top:10px;}.form-container button:hover{background-color:#57a05a;}.progress-bar{width:100%;height:20px;background-color:#e0e0e0;border-radius:5px;margin-top:10px;overflow:hidden;}.progress{height:100%;width:0%;background-color:#4caf50;border-radius:5px;transition:width 0.2s;}.file-name{margin-top:10px;font-size:14px;color:#555;}</style></head><body><h1>Надіслати файл</h1><div class="form-container" id="dropArea"><p>Перетягніть файл сюди або виберіть</p><form id="uploadForm"><input type="file" id="fileInput" required><button type="submit">Надіслати</button></form><div class="file-name" id="fileName"></div><div class="progress-bar" id="progressBar" style="display:none;"><div class="progress" id="progress"></div></div></div><script>const uploadForm=document.getElementById('uploadForm');const fileInput=document.getElementById('fileInput');const dropArea=document.getElementById('dropArea');const fileName=document.getElementById('fileName');uploadForm.addEventListener('submit',function(event){event.preventDefault();if(!fileInput.files.length)return alert('Будь ласка, виберіть файл для завантаження');uploadFile(fileInput.files[0]);});function uploadFile(file){const formData=new FormData();formData.append('file',file);const xhr=new XMLHttpRequest();xhr.open('POST','/upload');xhr.upload.addEventListener('progress',function(event){if(event.lengthComputable){document.getElementById('progress').style.width=(event.loaded/event.total)*100+'%';}});xhr.addEventListener('loadstart',function(){document.getElementById('progressBar').style.display='block';});xhr.addEventListener('load',function(){alert('Файл успішно завантажено!');document.getElementById('progress').style.width='0%';document.getElementById('progressBar').style.display='none';fileInput.value='';fileName.textContent='';});xhr.addEventListener('error',function(){document.getElementById('progress').style.backgroundColor='#f44336';alert('Сталася помилка при завантаженні файлу');});xhr.send(formData);}dropArea.addEventListener('dragover',function(event){event.preventDefault();dropArea.classList.add('dragover');});dropArea.addEventListener('dragleave',function(event){event.preventDefault();dropArea.classList.remove('dragover');});dropArea.addEventListener('drop',function(event){event.preventDefault();dropArea.classList.remove('dragover');if(event.dataTransfer.files.length){fileInput.files=event.dataTransfer.files;fileName.textContent=event.dataTransfer.files[0].name;uploadFile(event.dataTransfer.files[0]);}});fileInput.addEventListener('change',function(){if(fileInput.files.length)fileName.textContent=fileInput.files[0].name;});</script></body></html>
)rawliteral";

const char HREF_HTML[] = "<br><br><a href=\"/?filename=";